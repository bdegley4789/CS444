
% ===============================================
% CS444: Concurrency 03         Fall 2017
% hw_revised.tex
% Template for revised homework submission
% ===============================================
%         READ THE FOLLOWING CAREFULLY!!!
% ===============================================
% When you produce a PDF version of this document
% to turn in, change the filename to hwX-name.pdf
% replacing X with the homework assignment number
% and name with your last name.
% ===============================================


% -----------------------------------------------
% The preamble that follows can be ignored. Go on
% down to the section that says "START HERE"
% -----------------------------------------------

\documentclass{article}

\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}

\newenvironment{theorem}[2][Theorem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{lemma}[2][Lemma]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{exercise}[2][Exercise]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{problem}[2][Problem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{question}[2][Question]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{corollary}[2][Corollary]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}

\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}

\begin{document}

% ------------------------------------------ %
%                 START HERE                 %
% ------------------------------------------ %

\title{Concurrency 03 Report} % Replace X with the appropriate number
\author{Bryce Egley, Bruce Garcia\\CS 444} % Replace "Author's Name" with your name

\maketitle
\hrule


% -----------------------------------------------------
% The following two environments (theorem, proof) are
% where you will enter the statement and proof of your
% first problem for this assignment.
%
% In the theorem environment, you can replace the word
% "theorem" in the \begin and \end commands with
% "exercise", "problem", "lemma", etc., depending on
% what you are submitting. Replace the "x.yz" with the
% appropriate number for your problem.
%
% If your problem does not involve a formal proof, you
% can change the word "proof" in the \begin and \end
% commands with "solution".
% -----------------------------------------------------
\section*{Design Plan}
For part 1 on this assignment we created four processes and three resources. The resources would get filled up by three processes and
then no new process could join until all three processes had left. We accomplished this by starting the count at 0 then setting the count to
1 every time a process was added. Once a process was removed we set the count to 2. Once all the counts in the resource array were 2 meaning
all the threads had left we reset the resource back to all counts at 0. And let new processes join/consume the resource.
\newline
For part 2 on this assignment we created three types of threads inserters, deleters and searchers. Searchers just search for a random item
in the linked list and returned it. Inserters would insert an item to the end of the list. Deleters would delete an item from a random spot.
We used states by turning them ON or OFF when the inserters and deleters were running to make our program be mutually exclusive. We used
linked list functions from one source to do the linked list method of appending to a linked list and initializing a linked list.

\section*{Questions}

\begin{question}{1}
What do you think the main point of this assignment is?
\end{question}
I think that the main point of this assignment was honed our parallel-thinking skills. The ability to think of a thread while keeping in mind other threads is complex. The reason why programming multiple threads are complex is that you have to think about how the various threads will interact with each other. In the case of this assignment, there were three threads that were accessing one single linked list. So, the main point of this assignment was to become familiar and appreciate the interactions of multiple threads selecting, inserting, and deleting data. In addition, the other main point of this assignment was to hone our interpersonal skills. Working with a partner throughout this assignment has allowed us to understand and appreciate the roles of a leader and a follower. Also, we were able to criticize each other's code without offending one another.

% -----------------------------------------------------
% Second problem
% -----------------------------------------------------

\vspace{0.25in} % This just adds some space between problems 1 and 2.

\begin{question}{2}
How did you personally approach the problem? Design decisions, algorithm, etc.
\end{question}
How we approached the problem for this concurrency assignment was using problem-solving techniques. First, we needed to understand the problem. We identified, for part two, that we needed to have three different functions that would act as a selector, inserter, and deleter, respectively. In addition, we understood that the single linked list would be the source of information so a basic structure needed to be implemented and initialized. For the second step, we designed the three main threads that would be involved in this assignment. The threads needed to be cohesive so when a thread would be called upon, it would do its objective. Further, we then implemented our design. For part 1 and part 2 the design plan we also described in the design plan.

% -----------------------------------------------------
% Third problem
% -----------------------------------------------------

\vspace{0.25in} % This adds some space between problems 2 and 3.

\begin{question}{3}
How did you ensure your solution was correct? Testing details, for instance.
\end{question}
The way we ensured that our solution was correct was by checking that each thread worked properly. For example, the selector thread printed out a random node from the single linked list; the inserter thread inserted created a node and inserted it at the end of the single linked list. However, the deleter thread was created to randomly delete a node from the single linked list; but, for some reason, it would crash after a few minutes of execution. However, this problem was fixed by delaying the deleter thread for a few seconds more than the speed of insertion of the inserter. As a result, there was always a single linked list. Then after running the program once more, every thread reported itself--by the printf function, this allowed us to identify that each of the threads was executing. For part 1 we rand the code and made sure the resources were getting freed up as three threads left.

\newpage

% ---------------------------------------------------------
% Fourth problem
%----------------------------------------------------------

\vspace{0.25in}
\begin{question}{4}
What did you learn?
\end{question}
What we learned from this assignment were many ideas. First, there is a large amount of useful information on the web. Sometimes, you need to search many sources in order to come to a conclusion about what is the best approach to design or implement a function. In addition, it helps tremendously to pull out a sheet of paper and scribble around to pull out a solution. This saved us a large amount of time. Further, it also helps to take a walk and not think about the problem. Sometimes you need some fresh air; and maybe as a result, you end up finding a valid solution.

% ---------------------------------------------------------
% Version Control Log
%----------------------------------------------------------
\section*{Version Control Log}
\textit{Table of Version Control Log} Ran command 'git log --graph --oneline'
\newline
\begin{center}
\begin{tabular}{ c c }
* f21300c Added mutual exclusion \\
* 7934998 Added comments \\
* ac0a695 Created free resource \\
* bcc0fc2 created writeup report \\
* b137a4f Fixed string compare \\
* 9eca4c1 Fixed print part1 \\
* 41635af fixed the bug in deleter \\
* 68d326f working on the deleter fucntion \\
* d583752 Fixed insert \\
* c1ca5bb Fixed insert wait error \\
* 8a9a484 Fixed wait error \\
* 1c248a8 Fixed insert method \\
* 9a88af3 Created inserters and deleters \\
* 8b0650f working on passing the head variable to selector \\
* b6ad639 added documentation \\
* 3bb6eef finished the create struct function \\
* fbb9d8d creating function that init 5 elements into a link list \\
* 3331db2 created create and append func \\
* a506a90 edited makefile \\
* 9033f0f added doc \\
* 30b2338 Fixed compile error with struct array \\
* e00ba5e Fixed compile error with resource \\
* caf8ec4 Created 2nd repo

\end{tabular}
\end{center}

% ---------------------------------------------------------
% Work Log
%----------------------------------------------------------
\section*{Work Log}
November 19, 2017: (2 hours) Started Part 1 created 4 processes and 3 resources for the problem. Brainstormed on how to complete concurrency problem. \newline
November 24, 2017: (5 hours) Start Part 2 created find function and inserter function. Include linked list functions for appending to init a linked list for part two. Created release method for removing process from a resource. \newline
November 25, 2017: (6 hours) Finished adding linked list functions. Got part 2 of concurrency homework running. But only one thread could run at a time. \newline
November 26, 2017: (6 hours) Fixed bugs in problem 1 with string pointer comparison in C. Created function to release resource once three threads had left. Fixed bug in part 2 so multiple threads could run with mutual exclusion.
% -----------------------------------------------
% Ignore everything that appears below this.
% -----------------------------------------------

\end{document}
