% ===============================================
% CS444: HW3 Memory Block         Fall 2017
% Names: Bryce Egley and Bruce Garcia
% Template for revised homework submission
% ===============================================
%         READ THE FOLLOWING CAREFULLY!!!
% ===============================================
% When you produce a PDF version of this document
% to turn in, change the filename to hwX-name.pdf
% replacing X with the homework assignment number
% and name with your last name.
% ===============================================


% -----------------------------------------------
% The preamble that follows can be ignored. Go on
% down to the section that says "START HERE"
% -----------------------------------------------

\documentclass{article}

\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}

\newenvironment{theorem}[2][Theorem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{lemma}[2][Lemma]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{exercise}[2][Exercise]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{problem}[2][Problem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{question}[2][Question]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{corollary}[2][Corollary]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}

\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}

\begin{document}

% ------------------------------------------ %
%                 START HERE                 %
% ------------------------------------------ %

\title{HW4 Report} % Replace X with the appropriate number
\author{Bryce Egley, Bruce Garcia\\CS 444} % Replace "Author's Name" with your name

\maketitle
\hrule


% -----------------------------------------------------
% The following two environments (theorem, proof) are
% where you will enter the statement and proof of your
% first problem for this assignment.
%
% In the theorem environment, you can replace the word
% "theorem" in the \begin and \end commands with
% "exercise", "problem", "lemma", etc., depending on
% what you are submitting. Replace the "x.yz" with the
% appropriate number for your problem.
%
% If your problem does not involve a formal proof, you
% can change the word "proof" in the \begin and \end
% commands with "solution".
% -----------------------------------------------------

% ---------------------------------------------------------
% Design Plan
%----------------------------------------------------------
\section*{Design Plan}
For this assignment we started by reading the assignment description and then
went through the documentation and files in https://lwn.net/Kernel/LDD3/ that
was recommend in the assignment description. We looked at the sbd.c file and
came up with the way to incorporate encryption and decryption by using the
crypto cipher encrypt and decrypt functions with a crypto cipher struct. Then
we created a print function to loop through the decrypted and encrypted code to
display in the kernel print.
\newline


% ---------------------------------------------------------
% Questions
%----------------------------------------------------------
\section*{Questions}

\begin{question}{1}
What do you think the main point of this assignment is?
\end{question}
I think that the main point of this assignment was to learn about the Linux
block drivers. And the best way to learn about block drivers is to actually
build one. However, we did not build one from scratch; there was a template
provided for us from the textbook. In addition, we also learned the struggle of
reading unfamiliar code. And that the driver reads and writes in blocks; it
reads each segment of the disk. Also since we didn't know the behavior of each
function, we had to research what the functions were achieving. My partner and
I divided the work so what we could understand the block driver. Further,
working with a partner in the assignment helped us keep each other accountable;
there was no room for procrastination. We also got experience using version
control. We needed to delegate our work so that we both work not working on the
same thing and thus, avoid wasting our time.




% -----------------------------------------------------
% Second problem
% -----------------------------------------------------

\vspace{0.25in} % This just adds some space between problems 1 and 2.

\begin{question}{2}
How did you personally approach the problem? Design decisions, algorithm, etc.
\end{question}
First, we identified the problem. Which was that we needed to create a block
driver. Since we didnâ€™t know much about the block driver, we started to read
the Block I/O Layer chapter from the textbook. In addition, the link that
proved to be useful was the website the textbook referenced. It had a simple
block driver implemented. After we analyzed the code from the c file, we
modified the transfer function because this was the function that handled the
I/O. We knew that we had to encrypt and decrypt the data, so we analyzed the
code to see where the encryption and decryption process should take place.
Further, we researched for a function what would be able to encrypt a block of
memory. We found the functions that were needed for the encryption and
decryption of the block. After the encryption and decryption were solved, we
decided to run the kernel. However, we ran into a problem; the command qemu etc
was not working. But we managed to solve the error by deleting the forward
slashed that was implemented on the command line.



% -----------------------------------------------------
% Third problem
% -----------------------------------------------------

\vspace{0.25in} % This adds some space between problems 2 and 3.

\begin{question}{3}
How did you ensure your solution was correct? Testing details, for instance.
\end{question}
The way we ensured that our solution was correct was by running the kernel with
the block driver, that we created, in the driver/block directory. We did not
encounter any bug error, so this was a good sign that everything was going
well. I proceeded to verify my result from my partner; he said that everything
seems to be running fine.


% ---------------------------------------------------------
% Fourth problem
%----------------------------------------------------------

\vspace{0.25in}
\begin{question}{4}
What did you learn?
\end{question}
What we learned from this assignment was, obviously that the block has a very
important role in the operating system. It provides a method of switching
randomly accessible data to fixed-size blocks. In addition, I learned that
working with a partner is extremely useful because when I was stuck on trying
to find information about the simple block driver but my partner showed me a
useful resource. Also, the ability to search for information was vital for this
assignment. In addition, we learned that the kernel has many libraries that we
as programmers still have to learn about.



% ---------------------------------------------------------
% Fifth problem
%----------------------------------------------------------

\vspace{0.25in}
\begin{question}{5}
How should the TA evaluate your work? Provide detailed steps to prove correctness.
\end{question}
The TA should do the following instructions: run the kernel. After the kernel
is on halt, open up another terminal. Further, type gdb. And enter target 5013
then press enter. Enter continue them press enter. This will show you that the
kernel was able to compile. Thus, the block driver was able to register withe
the kernel, then, executed without a problem.



% ---------------------------------------------------------
% Version Control Log
%----------------------------------------------------------
\section*{Version Control Log}
\textit{Table of Version Control Log} Ran command 'git log --graph --oneline'
\newline
\begin{center}
\begin{tabular}{ c c }
* 1704d0d Created Kernel Patch \\
* 9ecbd1c Fixed bad patch \\
* 1eef7c4 Design doc \\
* cd6c5bc Kernel Patch \\
* ecd8b9d fixed slob alloc page \\
* d100359 slob alloc \\
* 9835285 Add slop.c \\
* e82b0d7 created design doc
\end{tabular}
\end{center}

% ---------------------------------------------------------
% Work Log
%----------------------------------------------------------
\section*{Work Log}
November 29, 2017: (3 hours) Planning out how we would implement the best fit algorithm in the slob.c file, which had first fit algorithm at the time. Deciding which functions in slob.c we would need to make changes to, to get it to run the best algorithm.  \\
November 29, 2017: (2 hours) Implementation of the best fit algorithm in the slob.c. Editing the code and fixing merge errors we had when combining our code through git. \\
December 1, 2017: (3 hours) Testing the slob.c file on linux yocto kernel completing the write up for the homework.
% -----------------------------------------------
% Ignore everything that appears below this.
% -----------------------------------------------

\end{document}
