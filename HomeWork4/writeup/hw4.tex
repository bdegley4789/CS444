% ===============================================
% CS444: HW4 The SLOB SLAB         Fall 2017
% Names: Bryce Egley and Bruce Garcia
% Template for revised homework submission
% ===============================================
%         READ THE FOLLOWING CAREFULLY!!!
% ===============================================
% When you produce a PDF version of this document
% to turn in, change the filename to hwX-name.pdf
% replacing X with the homework assignment number
% and name with your last name.
% ===============================================


% -----------------------------------------------
% The preamble that follows can be ignored. Go on
% down to the section that says "START HERE"
% -----------------------------------------------

\documentclass{article}

\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}

\newenvironment{theorem}[2][Theorem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{lemma}[2][Lemma]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{exercise}[2][Exercise]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{problem}[2][Problem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{question}[2][Question]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{corollary}[2][Corollary]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}

\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}

\begin{document}

% ------------------------------------------ %
%                 START HERE                 %
% ------------------------------------------ %

\title{HW4 Report} % Replace X with the appropriate number
\author{Bryce Egley, Bruce Garcia\\CS 444} % Replace "Author's Name" with your name

\maketitle
\hrule


% -----------------------------------------------------
% The following two environments (theorem, proof) are
% where you will enter the statement and proof of your
% first problem for this assignment.
%
% In the theorem environment, you can replace the word
% "theorem" in the \begin and \end commands with
% "exercise", "problem", "lemma", etc., depending on
% what you are submitting. Replace the "x.yz" with the
% appropriate number for your problem.
%
% If your problem does not involve a formal proof, you
% can change the word "proof" in the \begin and \end
% commands with "solution".
% -----------------------------------------------------

% ---------------------------------------------------------
% Design Plan
%----------------------------------------------------------
\section*{Design Plan}
For this assignment we started by reading the assignment description and then
went through the documentation and files in https://lwn.net/Kernel/LDD3/ that
was recommend in the assignment description. We looked at the sbd.c file and
came up with the way to incorporate encryption and decryption by using the
crypto cipher encrypt and decrypt functions with a crypto cipher struct. Then
we created a print function to loop through the decrypted and encrypted code to
display in the kernel print.
\newline


% ---------------------------------------------------------
% Questions
%----------------------------------------------------------
\section*{Questions}

\begin{question}{1}
What do you think the main point of this assignment is?
\end{question}
I think that the main point of this assignment was to learn about the two out of the three Linux memory allocators: SLOB, SLAB, and SLUB(not used in this assignment). This assignment had a focus on the memory management--one of the vital components of an operating system. In addition, one of the reasons why I think this assignment was given to cs students is because they need to become familiar with code written by other programmers. It was hard to understand what the functions are actually doing because there is little documentation. In addition, another point of the assignment was to hone our skill to delegate the work among ourselves. Further, the ability to work with a partner is an essential role in the software development world. Thus, this assignment aimed to increase our team player skills. 





% -----------------------------------------------------
% Second problem
% -----------------------------------------------------

\vspace{0.25in} % This just adds some space between problems 1 and 2.

\begin{question}{2}
How did you personally approach the problem? Design decisions, algorithm, etc.
\end{question}
First, like solving any time a problem, we identified the problem. We understood that we needed to first understand the two memory allocators and their implementation. We discovered that the SLOB allocator uses a first-fit algorithm which finds the the first memory space available--a greedy type of algorithm. In addition, we discovered the allocator SLUB uses a best-fit algorithm. That is, the allocators focus is to efficiently allocate memory without hurting performance. After the problem was identified, we decided to create a design document. This document describes which functions needed to be modified; the allocator needs to transform using a first-fit to a best-fit algorithm.  



% -----------------------------------------------------
% Third problem
% -----------------------------------------------------

\vspace{0.25in} % This adds some space between problems 2 and 3.

\begin{question}{3}
How did you ensure your solution was correct? Testing details, for instance.
\end{question}
How we ensured that the implemented code was a solution was that, at first, it was able to compile. We ran the kernel and saw that there were no visible errors. In addition, we saw our print statement that we implemented, indicating that the kernel was able to run the function. We didn't encounter any bugs which brought us to the conclusion that everything was working properly to this point.  I proceeded to verify my result from my partner; he said that everything
seems to be running fine.


% ---------------------------------------------------------
% Fourth problem
%----------------------------------------------------------

\vspace{0.25in}
\begin{question}{4}
What did you learn?
\end{question}
What we learned from this assignment is reading code is difficult, especially when it is written by someone else. We had a hard time with understanding the code. We search the Internet to find useful information and reread the memory management chapter. We learned the importance of writing documentation in the code because it can get confusing to a foreign user. In addition, the opportunity to discuss the problem with my partner enabled me to think of the problem in a different way. In conclusion, the memory management is a complicated system that needs to be appreciated. 



% ---------------------------------------------------------
% Fifth problem
%----------------------------------------------------------

\vspace{0.25in}
\begin{question}{5}
How should the TA test your patch?
\end{question}
The TA should analyze the patch file. The TA then should look for any attempt to change the first-fit algorithm to a best-fit algorithm. In this way, it would show that an effort was made to modify this complicated system. 



% ---------------------------------------------------------
% Version Control Log
%----------------------------------------------------------
\section*{Version Control Log}
\textit{Table of Version Control Log} Ran command 'git log --graph --oneline'
\newline
\begin{center}
\begin{tabular}{ c c }
* 1704d0d Created Kernel Patch \\
* 9ecbd1c Fixed bad patch \\
* 1eef7c4 Design doc \\
* cd6c5bc Kernel Patch \\
* ecd8b9d fixed slob alloc page \\
* d100359 slob alloc \\
* 9835285 Add slop.c \\
* e82b0d7 created design doc
\end{tabular}
\end{center}

% ---------------------------------------------------------
% Work Log
%----------------------------------------------------------
\section*{Work Log}
November 29, 2017: (3 hours) Planning out how we would implement the best fit algorithm in the slob.c file, which had first fit algorithm at the time. Deciding which functions in slob.c we would need to make changes to, to get it to run the best algorithm.  \\
November 29, 2017: (2 hours) Implementation of the best fit algorithm in the slob.c. Editing the code and fixing merge errors we had when combining our code through git. \\
December 1, 2017: (3 hours) Testing the slob.c file on linux yocto kernel completing the write up for the homework.
% -----------------------------------------------
% Ignore everything that appears below this.
% -----------------------------------------------

\end{document}
